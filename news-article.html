<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <!-- <link rel="stylesheet" href="css/splide.min.css" /> -->
    <!-- <script src="js/splide.min.js"></script> -->

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:wght@400;700&family=Oswald:wght@600&family=Roboto+Condensed:wght@800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />

    <title>News-article</title>
  </head>
  <body>
    <header id="header">
      <a href="index.html">
        <img class="logo" src="images/logo.png" alt="logo" />
      </a>
      <div id="menuButton">
        <span class="material-symbols-outlined header-icon"> menu </span>
      </div>
      <nav class="header-nav">
        <ul>
          <li>
            <a class="top-nav" href="index.html">Home</a>
          </li>
          <li>
            <a class="top-nav" href="about.html">About</a>
            <div class="dropdown-content" id="myDropdown">
              <a href="achievment.html">Achievment</a>
              <a href="about-China.html">Messi&Me&China</a>
            </div>
          </li>
          <li>
            <a class="top-nav" href="news.html">News</a>
            <div class="dropdown-content" id="myDropdown">
              <a href="fixturesandresults.html">fixtures&Results</a>
              <a href="playerstats.html">Player Stats</a>
            </div>
          </li>
          <li>
            <a class="top-nav" href="gallery.html">Gallery</a>
            <div class="dropdown-content" id="myDropdown">     
              <a href="videos.html">Videos</a>
            </div>
          </li>
          <li>
            <a class="top-nav" href="fans.html">Fans</a>
            <div class="dropdown-content" id="myDropdown">
              <a href="shop.html">Shop</a>
            </div>
          </li>
        </ul>
      </nav>
      <span class="material-symbols-outlined header-icon" id="headerIcon">
        account_circle
      </span>
      <div id="loginContainer" class="modal">
        <span class="close">&times;</span> 
        <div class="login">
          <!-- from https://www.w3schools.com/howto/howto_css_login_form.asp -->
          <form class="login-form" method="post">
            <img src="images/achive03.jpg" alt="profileImg" class="profileImg">      
            <div class="login-container">
              <label for="uname"><b>Username</b></label>
              <input type="text" placeholder="Enter Username" name="uname" required>   
              <label for="psw"><b>Password</b></label>
              <input type="password" placeholder="Enter Password" name="psw" required>
              <button type="submit">Login</button>
              <label>
                <input type="checkbox" checked="checked" name="remember"> Remember me
              </label>
            </div> 
          </form>
          <div class="login-form-bottom">
            <button type="button" onclick="cancelLogin()" class="cancelbtn">Cancel</button>
            <span class="psw">Forgot <a href="#">password?</a></span>
          </div>
        </div>
      </div>
    </header>
    <main>
      <section class="slideshow-container">
        <div class="mySlides fade">
          <!-- <div class="numbertext">1 / 3</div> -->
          <img src="images/image01.jpg" style="width:100%">
          <div class="text">Training At Night</div>
        </div>
        
        <div class="mySlides fade">
          <!-- <div class="numbertext">2 / 3</div> -->
          <img src="images/image02.jpg" style="width:100%">
          <div class="text">Matches With CLUB</div>
        </div>
        
        <div class="mySlides fade">
          <!-- <div class="numbertext">3 / 3</div> -->
          <img src="images/image03.jpg" style="width:100%">
          <div class="text">Football Playground</div>
      </section>
      <section class="news-content">
        <div class="news-article">
          <img id="newsImg" src="" alt="">
          <h2 id="news-header"></h2>
          <p id="news-content"></p>
        </div>
        <aside id="latest-news">
          <h2>Latest News</h2>
          <!-- <ul ></ul> -->
        </aside>

      </section>
    </main>
    <footer>
      <div class="footer-left">
        <img src="images/logo.png" alt=""> 
        <p>Â© Griffith College</p>
        <p>Interactive Digital Media</p>
      </div>
      <div class="footer-right">
        <div class="footer-nav">
          <h5>
            <a href="about.html">ABOUT</a>
          </h3>
          <p>
            <a href="achievment.html">Achievements</a>
          </p>
          <a href="about-China.html">Messi and China</a>
        </div>
        <div class="footer-nav">
          <h3>
            <a href="news.html">NEWS</a>
          </h3>
          <p>
            <a href="fixturesandresults.html">Fixtures & Results</a>
          </p>
          <a href="playerstats.html">Player Stats</a>
        </div>
        <div class="footer-nav">
          <h3>
            <a href="gallery.html">GALLERY</a>
          </h3>
          <a href="videos.html">Videos</a>
        </div>
        <div class="footer-nav">
          <h3>
            <a href="about.html">FANS</a>
          </h3>
          <a href="shop.html">Shop</a>
        </div>
      </div>
    </footer>
    <script src="script.js"></script>
    <script type="text/javascript">
      // rendering these datas from news.json need Live Server, I can not use Live Server at this moment. so write this illogical code instead the following code 
      const getId = parseInt(window.location.href.split('?')[1].split('=')[1]);  
      async function newsData() { 
        var aside=document.querySelector("#latest-news");
        var ulElement = document.createElement('ul'); 
        var liElement = document.createElement('li');
        var aElement = document.createElement('a');  
        var p = document.querySelector("#news-content");
        p.innerHTML = "Leo and Inter Miami contested the first match of their pre-season campaign in El Salvador on Friday, playing out a goalless draw against the Central American country's national team.";
        var newsImg = document.querySelector("#newsImg");
        newsImg.src = "images/news2.jpg";
        newsImg.alt = "LEO & INTER MIAMI'S FIRST OUTING OF PRE-SEASON CAMPAIGN";
        var nwesHeader = document.querySelector("#news-header");
        nwesHeader.innerHTML = "This page should rendering in a Live Server";  
        document.title = "LEO & INTER MIAMI'S FIRST OUTING OF PRE-SEASON CAMPAIGN";  
        const response = await fetch("news.json")   
        if(response){
          const data = await response.json();
          for (let index = 0; index < data.length; index++) {
            // const element = data[index];
            let element = data[index];
            let liElement = document.createElement('li');
            let aElement = document.createElement('a');   
            aElement.href = `news-article.html?id=${index}`;        
            liElement.textContent = data[index].title;
            aElement.appendChild(liElement);
            ulElement.appendChild(aElement);
            // ul.innerHTML = `<li>${data[index].title}</li>`;
            if (element.id == getId) {
              p.innerHTML = element.news;
              newsImg.src = element.src;
              newsImg.alt = element.title;
              nwesHeader.innerHTML = element.title;  
              document.title = element.title;            
            }
          }
          aside.appendChild(ulElement);
        } else {
          console.log('no data');
        }
      }
      newsData();

/*
      fetch("news.json")
      .then((response) => response.json())
      .then((data) => {
        if(data){
          let aside=document.querySelector("#latest-news");
          const ulElement = document.createElement('ul');
          for (let index = 0; index < data.length; index++) {
            // const element = data[index];
            let element = data[index];
            let liElement = document.createElement('li');
            let aElement = document.createElement('a');   
            aElement.href = `news-article.html?id=${index}`;        
            liElement.textContent = data[index].title;
            aElement.appendChild(liElement);
            ulElement.appendChild(aElement);
            // ul.innerHTML = `<li>${data[index].title}</li>`;
            if (element.id == getId) {
              let p = document.querySelector("#news-content");
              p.innerHTML = element.news;
              let newsImg = document.querySelector("#newsImg");
              newsImg.src = element.src;
              newsImg.alt = element.title;
              let nwesHeader = document.querySelector("#news-header");
              nwesHeader.innerHTML = element.title;  
              document.title = element.title;            
            }
          }
          aside.appendChild(ulElement);

        } else{
          console.log('no data')
        }
      }); */
    </script>
  </body>
</html>
